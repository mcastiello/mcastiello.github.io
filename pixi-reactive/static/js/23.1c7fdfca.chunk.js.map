{"version":3,"sources":["views/pages/SpeedContext.tsx","views/PropsTable.tsx","views/CodeViewer.tsx","views/ComponentLink.tsx","views/pages/UseAnimatedProgress.tsx"],"names":["props","textures","galaxy","ship","StyledButton","styled","Link","StyledContainer","div","SpeedController","useContext","SpeedContext","play","pause","increase","decrease","speed","useState","running","setRunning","togglePlayPause","useCallback","style","display","iconOnly","iconF7","onClick","SpeedContextExample","texture","SpeedContextDoc","page","Pages","AnimationContext","PixiAnimatedSprite","height","src","pageUrlMap","StyledCode","code","getTypeLinks","a","getPageChildren","Types","pages","map","Map","i","length","getComponentUrl","path","set","PropsTable","types","setTypes","useEffect","then","prop","index","f7","size","has","text","href","get","external","split","content","SyntaxHighlighter","registerLanguage","tsx","CodeViewer","children","setCode","fetch","response","darcula","language","showLineNumbers","ComponentLink","className","url","setUrl","Ship","width","RenderingContext","position","updatePosition","progress","useAnimatedProgress","x","alignY","UseAnimatedProgressExample","UseAnimatedProgressDoc"],"mappings":"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","file":"static/js/23.1c7fdfca.chunk.js","sourcesContent":["import { Block, Link } from 'framework7-react';\nimport { PixiCanvas, PixiTilingSprite, SpeedContext } from 'pixi-reactive';\nimport React, { useCallback, useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { Pages } from '../../pages';\nimport CodeViewer from '../CodeViewer';\nimport ComponentLink from '../ComponentLink';\nimport PropsTable, { PropsDefinition, StyledCode } from '../PropsTable';\nimport { StyledIntroduction, StyledSectionTitle, StyledTitle } from '../StyledComponents';\nimport { Ship } from './UseAnimatedProgress';\n\nconst props: PropsDefinition = [\n  ['speed', true, 'number', '1', 'Current speed of the animation'],\n  ['increase', true, 'function', '() => void', 'Double the current speed'],\n  ['decrease', true, 'function', '() => void', 'Halve the current speed'],\n  ['play', true, 'function', '() => void', 'Reset the current speed to 1'],\n  ['pause', true, 'function', '() => void', 'Set the current speed to 0'],\n  ['setSpeed', true, 'function', '(speed: number) => void', 'Set the speed to a specific value']\n];\n\nconst textures = {\n  galaxy: './static/assets/galaxy.png',\n  ship: './static/assets/spaceship.png'\n};\n\nconst StyledButton = styled(Link)`\n  color: white;\n  padding: 0 5px;\n`;\nconst StyledContainer = styled.div`\n  position: absolute;\n  bottom: -30px;\n  text-align: center;\n  width: 100%\n`;\n\n// Add the speed controller that allow us to accelerate or slow down the animation\nconst SpeedController: React.FC = () => {\n  const { play, pause, increase, decrease, speed } = useContext(SpeedContext);\n  const [running, setRunning] = useState(true);\n\n  const togglePlayPause = useCallback(() => {\n    if (running) {\n      pause();\n      setRunning(false);\n    } else {\n      play();\n      setRunning(true);\n    }\n  }, [running, play, pause]);\n\n  return (\n    <>\n      <StyledContainer>\n        <div style={{ display: 'absolute' }}>Speed: {speed}</div>\n        <StyledButton iconOnly iconF7={'backward_fill'} onClick={decrease} />\n        <StyledButton iconOnly iconF7={'playpause_fill'} onClick={togglePlayPause} />\n        <StyledButton iconOnly iconF7={'forward_fill'} onClick={increase} />\n      </StyledContainer>\n    </>\n  );\n};\n\nconst SpeedContextExample: React.FC = () => {\n  return (\n    <PixiCanvas textures={textures}>\n      <PixiTilingSprite texture={'galaxy'} />\n      <Ship />\n      <SpeedController />\n    </PixiCanvas>\n  );\n};\n\nconst SpeedContextDoc: React.FC = () => {\n  return (\n    <>\n      <StyledTitle>SpeedContext</StyledTitle>\n      <StyledIntroduction>\n        This context provides the instruments to alter the speed of the canvas rendering. This is achieved by changing the{' '}\n        <StyledCode>elapsed</StyledCode> property from the <ComponentLink page={Pages.AnimationContext} />. This means that it will only\n        affect those animations based on this parameter. Components like <ComponentLink page={Pages.PixiAnimatedSprite} /> are already based\n        on this, so they will be automatically affected.\n        <br />\n        This is mostly useful during debug, because it allows you to slow down animations and check every frame, or to accelerate the\n        execution to skip sequence of animations we're not interested in.\n        <br />\n        In the following example we'll refactor the <StyledCode>Ship</StyledCode> animation to use the <StyledCode>elapsed</StyledCode>{' '}\n        property, so that we can handle its speed using the context functions. Click the buttons below the canvas to see what happens.\n      </StyledIntroduction>\n      <Block style={{ height: 300 }}>\n        <SpeedContextExample />\n      </Block>\n      <Block>\n        <CodeViewer src={'./static/examples/SpeedContextExample.tsx'} />\n      </Block>\n      <StyledSectionTitle>Properties</StyledSectionTitle>\n      <PropsTable props={props} />\n    </>\n  );\n};\n\nexport default SpeedContextDoc;\n","import { Block, Icon } from 'framework7-react';\nimport React, { useEffect, useState } from \"react\";\nimport styled from 'styled-components';\nimport { getComponentUrl, getPageChildren, Pages } from '../pages';\nimport { StyledTable, StyledLink, StyledTableContainer } from './StyledComponents';\n\ntype PropDefinition = [string, boolean, string, string, string];\nexport type PropsDefinition = PropDefinition[];\n\nexport const StyledCode = styled.code`\n  background: rgba(100, 100, 100, 0.5);\n  padding: 0 5px;\n  border-radius: 2px;\n`;\n\nexport const parseCode = (text: string) => {\n  const parts = text.split(/`/);\n\n  return parts.map((content, index) => {\n    if (index % 2 === 0) {\n      return <span key={index}>{content}</span>;\n    } else {\n      return <StyledCode key={index}>{content}</StyledCode>;\n    }\n  });\n};\n\nlet pageUrlMap: Map<Pages, string>;\n\nconst getTypeLinks = async () => {\n  if (!pageUrlMap) {\n    const pages = await getPageChildren(Pages.Types);\n    const map = new Map<Pages, string>();\n\n    for (let i = 0; i < pages.length; i++) {\n      const path = await getComponentUrl(pages[i]);\n\n      map.set(pages[i], `#${path}`);\n    }\n\n    pageUrlMap = map;\n  }\n\n  return pageUrlMap;\n};\n\nconst PropsTable: React.FC<{ props: PropsDefinition }> = ({ props = [] }) => {\n  const [types, setTypes] = useState<Map<Pages, string>>();\n\n  useEffect(() => {\n    getTypeLinks().then(setTypes);\n  }, []);\n\n  return (\n    <Block>\n      <StyledTableContainer>\n        <StyledTable>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Required</th>\n              <th>Type</th>\n              <th>Default</th>\n              <th>Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            {props.map((prop, index) => {\n              return (\n                <tr key={index}>\n                  <td>{prop[0]}</td>\n                  <td>{prop[1] ? <Icon f7={'checkmark_alt'} size={14} /> : null}</td>\n                  <td>\n                    <code>\n                      {types && types.has(prop[2] as Pages) ? (\n                        <StyledLink text={prop[2]} href={types.get(prop[2] as Pages)} external />\n                      ) : (\n                        prop[2]\n                      )}\n                    </code>\n                  </td>\n                  <td>\n                    <code>{prop[3]}</code>\n                  </td>\n                  <td>{parseCode(prop[4])}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </StyledTable>\n      </StyledTableContainer>\n    </Block>\n  );\n};\n\nexport default PropsTable;\n","import React, { ReactText, useEffect, useState } from 'react';\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport tsx from 'react-syntax-highlighter/dist/esm/languages/prism/tsx';\nimport { darcula } from 'react-syntax-highlighter/dist/esm/styles/prism';\n\nSyntaxHighlighter.registerLanguage('tsx', tsx);\n\nconst CodeViewer: React.FC<{src?: string, children?: ReactText}> = ({ src, children = '' }) => {\n  const [code, setCode] = useState(children);\n\n  useEffect(() => {\n    if (src) {\n      fetch(src).then(response => response.text()).then(text => setCode(text));\n    }\n  }, [src]);\n\n  useEffect(() => {\n    if (children) {\n      setCode(children);\n    }\n  }, [children]);\n\n  return (\n    <SyntaxHighlighter style={darcula} language={'tsx'} showLineNumbers>\n      {code}\n    </SyntaxHighlighter>\n  );\n};\n\nexport default CodeViewer;\n","import React, { useEffect, useState } from 'react';\nimport { getComponentUrl, Pages } from '../pages';\nimport { StyledComponentLink } from './StyledComponents';\n\nconst ComponentLink: React.FC<{ page: Pages; className?: string }> = ({ page, className }) => {\n  const [url, setUrl] = useState<string | undefined>();\n\n  useEffect(() => {\n    getComponentUrl(page).then((url) => setUrl(`#${url}`));\n  }, [page]);\n\n  return <StyledComponentLink className={className} href={url} key={page} text={page} external />;\n};\n\nexport default ComponentLink;\n","import { Block } from 'framework7-react';\nimport { PixiCanvas, PixiSprite, PixiTilingSprite, RenderingContext, useAnimatedProgress } from 'pixi-reactive';\nimport React, { useContext, useEffect, useState } from 'react';\nimport CodeViewer from '../CodeViewer';\nimport { StyledCode } from '../PropsTable';\nimport { StyledIntroduction, StyledTitle } from '../StyledComponents';\n\nconst textures = {\n  galaxy: './static/assets/galaxy.png',\n  ship: './static/assets/spaceship.png'\n};\n\nexport const Ship: React.FC = () => {\n  const { width } = useContext(RenderingContext);\n  const [position, updatePosition] = useState(0);\n  const progress = useAnimatedProgress(10 * width, true);\n\n  useEffect(() => {\n    updatePosition((width + 300) * progress);\n  }, [progress, width]);\n\n  return <PixiSprite texture={'ship'} x={position - 150} alignY={0.5} />;\n};\n\nconst UseAnimatedProgressExample: React.FC = () => {\n  return (\n    <PixiCanvas textures={textures}>\n      <PixiTilingSprite texture={'galaxy'} />\n      <Ship />\n    </PixiCanvas>\n  );\n};\n\nconst UseAnimatedProgressDoc: React.FC = () => {\n  return (\n    <>\n      <StyledTitle>useAnimatedProgress</StyledTitle>\n      <StyledIntroduction>\n        This hook will take as parameters a <StyledCode>duration</StyledCode> in milliseconds of the whole animation and an optional flag{' '}\n        <StyledCode>loop</StyledCode> that will reset the animation each time it ends is set to <StyledCode>true</StyledCode>. <br />\n        The return value will be a value between <StyledCode>0</StyledCode> and <StyledCode>1</StyledCode> representing the progress of the\n        animation in percentage.\n      </StyledIntroduction>\n      <Block style={{ height: 300 }}>\n        <UseAnimatedProgressExample />\n      </Block>\n      <Block>\n        <CodeViewer src={'./static/examples/UseAnimatedProgressExample.tsx'} />\n      </Block>\n    </>\n  );\n};\n\nexport default UseAnimatedProgressDoc;\n"],"sourceRoot":""}