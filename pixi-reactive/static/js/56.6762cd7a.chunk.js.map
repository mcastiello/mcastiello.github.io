{"version":3,"sources":["views/pages/RenderingContext.tsx","views/PropsTable.tsx","views/ComponentLink.tsx"],"names":["props","textures","galaxy","ship","Ship","useContext","PointerContext","x","y","over","texture","alignX","undefined","alignY","anchorX","anchorY","RenderingStats","RenderingContext","renderId","width","height","RenderingContextExample","retina","RenderingContextDoc","useState","enabled","setEnabled","toggle","useCallback","page","Pages","ParentContext","PixiRenderTexture","style","textAlign","marginRight","onChange","src","pageUrlMap","StyledCode","styled","code","getTypeLinks","a","getPageChildren","Types","pages","map","Map","i","length","getComponentUrl","path","set","PropsTable","types","setTypes","useEffect","then","prop","index","key","f7","size","has","text","href","get","external","split","content","ComponentLink","className","url","setUrl"],"mappings":"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","file":"static/js/56.6762cd7a.chunk.js","sourcesContent":["import { Block, Toggle } from 'framework7-react';\nimport { PixiCanvas, PixiSprite, PixiTilingSprite, PointerContext, RenderingContext } from 'pixi-reactive';\nimport React, { useCallback, useContext, useState } from 'react';\nimport { Pages } from '../../pages';\nimport CodeViewer from '../CodeViewer';\nimport ComponentLink from '../ComponentLink';\nimport PropsTable, { PropsDefinition, StyledCode } from '../PropsTable';\nimport { StyledIntroduction, StyledSectionTitle, StyledTitle } from '../StyledComponents';\n\nconst props: PropsDefinition = [\n  ['renderId', true, 'number', '0', 'ID of the latest rendered frame'],\n  ['width', true, 'number', '0', 'Width of the rendering canvas'],\n  ['height', true, 'number', '0', 'Height of the rendering canvas'],\n  ['stage', true, 'PIXI.Container', 'new PIXI.Container()', 'Reference to the root container used to render on the canvas'],\n  ['update', true, 'function', '() => void', 'Function to ask the renderer to re-render the canvas at the next frame'],\n  [\n    'getTexture',\n    true,\n    'function',\n    '(item: PIXI.DisplayObject) => PIXI.RenderTexture',\n    'Function that converts the content of a `PIXI` element into a texture'\n  ]\n];\n\nconst textures = {\n  galaxy: './static/assets/galaxy.png',\n  ship: './static/assets/spaceship.png'\n};\n\nconst Ship: React.FC = () => {\n  const { x, y, over } = useContext(PointerContext);\n\n  return (\n    <PixiSprite\n      texture={'ship'}\n      x={over ? x : 0}\n      y={over ? y : 0}\n      alignX={over ? undefined : 0.5}\n      alignY={over ? undefined : 0.5}\n      anchorX={0.5}\n      anchorY={0.5}\n    />\n  );\n};\n\nconst RenderingStats: React.FC = () => {\n  const { renderId, width, height } = useContext(RenderingContext);\n\n  return (\n    <div>\n      Rendered Frames: {renderId} - Width: {width} - Height: {height}\n    </div>\n  );\n};\n\nconst RenderingContextExample: React.FC<{retina?: boolean}> = ({retina = false}) => {\n  return (\n    <PixiCanvas retina={retina} textures={textures}>\n      <PixiTilingSprite texture={'galaxy'} />\n      <Ship />\n      <RenderingStats />\n    </PixiCanvas>\n  );\n};\n\nconst RenderingContextDoc: React.FC = () => {\n  const [enabled, setEnabled] = useState(false);\n  const toggle = useCallback(() => setEnabled(!enabled), [enabled]);\n\n  return (\n    <>\n      <StyledTitle>RenderingContext</StyledTitle>\n      <StyledIntroduction>\n        This context will let you access a few rendering functionalities. First of all you have access to the <StyledCode>stage</StyledCode>\n        , which is the root container that gets rendered onto the canvas. Through that, you basically have access to all the{' '}\n        <StyledCode>PIXI</StyledCode> elements underneath. If you make any changes directly to this object or any of those accessible\n        through the <StyledCode>parent</StyledCode> property from the <ComponentLink page={Pages.ParentContext} />, you will need to tell\n        the renderer that something is changed. In order to do so, the context will provide you with an <StyledCode>update()</StyledCode>{' '}\n        function, you just need to call it and the context will do the rest for you.\n        <br />\n        Another function provided by the context is the <StyledCode>getTexture</StyledCode>, this is internally used by the{' '}\n        <ComponentLink page={Pages.PixiRenderTexture} /> component to convert a secondary stage into a texture and add it to a sprite\n        component. If you fancy to use it in your components, I'm not here to judge you.\n        <br />\n        Lastly, the context will provide you with some rendering information, like the current size of the canvas and the id of the latest\n        rendered frame. This is important because the renderer will not render if nothing changes in the stage, hence the{' '}\n        <StyledCode>renderId</StyledCode> will only be updated <i>after</i> a frame is actually rendered and will reflect actual changes in\n        the scene. If nothing has changed but you see this value going up, you may have some issues somewhere and you may need to optimize\n        your animation.\n        <br />\n        Try to move the mouse or touch and drag over the canvas below, try also to toggle the retina option:\n      </StyledIntroduction>\n      <Block style={{ textAlign: 'right' }}>\n        <span style={{ marginRight: 10 }}>{'Toggle Retina'}</span>\n        <Toggle onChange={toggle} />\n      </Block>\n      <Block style={{ height: 300 }}>\n        <RenderingContextExample retina={enabled} />\n      </Block>\n      <Block>\n        <CodeViewer src={'./static/examples/RenderingContextExample.tsx'} />\n      </Block>\n      <StyledSectionTitle>Properties</StyledSectionTitle>\n      <PropsTable props={props} />\n    </>\n  );\n};\n\nexport default RenderingContextDoc;\n","import { Block, Icon } from 'framework7-react';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { getComponentUrl, getPageChildren, Pages } from '../pages';\nimport { StyledTable, StyledLink, StyledTableContainer } from './StyledComponents';\n\ntype PropDefinition = [string, boolean, string, string, string];\nexport type PropsDefinition = PropDefinition[];\n\nexport const StyledCode = styled.code`\n  background: rgba(100, 100, 100, 0.5);\n  padding: 0 5px;\n  border-radius: 2px;\n`;\n\nexport const parseCode = (text: string) => {\n  const parts = text.split(/`/);\n\n  return parts.map((content, index) => {\n    if (index % 2 === 0) {\n      return <span key={index}>{content}</span>;\n    } else {\n      return <StyledCode key={index}>{content}</StyledCode>;\n    }\n  });\n};\n\nlet pageUrlMap: Map<Pages, string>;\n\nconst getTypeLinks = async () => {\n  if (!pageUrlMap) {\n    const pages = await getPageChildren(Pages.Types);\n    const map = new Map<Pages, string>();\n\n    for (let i = 0; i < pages.length; i++) {\n      const path = await getComponentUrl(pages[i]);\n\n      map.set(pages[i], `#${path}`);\n    }\n\n    pageUrlMap = map;\n  }\n\n  return pageUrlMap;\n};\n\nconst PropsTable: React.FC<{ props: PropsDefinition }> = ({ props = [] }) => {\n  const [types, setTypes] = useState<Map<Pages, string>>();\n\n  useEffect(() => {\n    getTypeLinks().then(setTypes);\n  }, []);\n\n  return (\n    <Block>\n      <StyledTableContainer>\n        <StyledTable>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Required</th>\n              <th>Type</th>\n              <th>Default</th>\n              <th>Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            {props.map((prop, index) => {\n              return (\n                <tr key={index}>\n                  <td>{prop[0]}</td>\n                  <td>{prop[1] ? <Icon f7={'checkmark_alt'} size={14} /> : null}</td>\n                  <td>\n                    <code>\n                      {types && types.has(prop[2] as Pages) ? (\n                        <StyledLink text={prop[2]} href={types.get(prop[2] as Pages)} external />\n                      ) : (\n                        prop[2]\n                      )}\n                    </code>\n                  </td>\n                  <td>\n                    <code>{prop[3]}</code>\n                  </td>\n                  <td>{parseCode(prop[4])}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </StyledTable>\n      </StyledTableContainer>\n    </Block>\n  );\n};\n\nexport default PropsTable;\n","import React, { useEffect, useState } from 'react';\nimport { getComponentUrl, Pages } from '../pages';\nimport { StyledComponentLink } from './StyledComponents';\n\nconst ComponentLink: React.FC<{ page: Pages; className?: string }> = ({ page, className }) => {\n  const [url, setUrl] = useState<string | undefined>();\n\n  useEffect(() => {\n    getComponentUrl(page).then((url) => setUrl(`#${url}`));\n  }, [page]);\n\n  return <StyledComponentLink className={className} href={url} key={page} text={page} external />;\n};\n\nexport default ComponentLink;\n"],"sourceRoot":""}